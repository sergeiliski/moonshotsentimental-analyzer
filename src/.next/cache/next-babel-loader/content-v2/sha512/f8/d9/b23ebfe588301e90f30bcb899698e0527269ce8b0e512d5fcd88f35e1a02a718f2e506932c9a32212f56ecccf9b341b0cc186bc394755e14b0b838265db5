{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sergeiliski/Projects/horseapp/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sergeiliski/Projects/horseapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sergeiliski/Projects/horseapp/src/pages/ad/[id].jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useRouter } from 'next/router';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport fetch from 'isomorphic-fetch';\n\nfunction Ad(props) {\n  _s();\n\n  var thought = props.thought;\n  var router = useRouter();\n  var id = router.query.id;\n  console.log('props', props);\n  console.log('query', router.query);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      noGutters: true,\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        className: \"bg-primary\",\n        children: thought.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Ad, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = Ad;\n\nAd.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var req, query, res, baseURL, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req, query = _ref.query, res = _ref.res;\n\n            if (!(query && query.id)) {\n              _context.next = 10;\n              break;\n            }\n\n            baseURL = req ? \"\".concat(req.protocol, \"://\").concat(req.get('Host')) : '';\n            _context.next = 5;\n            return fetch(\"\".concat(baseURL, \"/api/thought/\").concat(query.id));\n\n          case 5:\n            response = _context.sent;\n            _context.next = 8;\n            return response.json();\n\n          case 8:\n            _context.t0 = _context.sent;\n            return _context.abrupt(\"return\", {\n              thought: _context.t0\n            });\n\n          case 10:\n            return _context.abrupt(\"return\", {\n              error: {\n                statusCode: 404\n              }\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Ad;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ad\");","map":{"version":3,"sources":["/Users/sergeiliski/Projects/horseapp/src/pages/ad/[id].jsx"],"names":["React","useRouter","Row","Col","fetch","Ad","props","thought","router","id","query","console","log","message","getInitialProps","req","res","baseURL","protocol","get","response","json","error","statusCode"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;AAEA,SAASC,EAAT,CAAYC,KAAZ,EAAmB;AAAA;;AAAA,MACTC,OADS,GACGD,KADH,CACTC,OADS;AAEjB,MAAMC,MAAM,GAAGP,SAAS,EAAxB;AAFiB,MAGTQ,EAHS,GAGFD,MAAM,CAACE,KAHL,CAGTD,EAHS;AAIjBE,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,KAArB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,MAAM,CAACE,KAA5B;AACA,sBACE;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,SAAS,MAAd;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,kBAA6BH,OAAO,CAACM;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAOD;;GAbQR,E;UAEQJ,S;;;KAFRI,E;;AAeTA,EAAE,CAACS,eAAH;AAAA,uEAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,QAASA,GAAT,EAAcL,KAAd,QAAcA,KAAd,EAAqBM,GAArB,QAAqBA,GAArB;;AAAA,kBACfN,KAAK,IAAIA,KAAK,CAACD,EADA;AAAA;AAAA;AAAA;;AAEXQ,YAAAA,OAFW,GAEDF,GAAG,aAAMA,GAAG,CAACG,QAAV,gBAAwBH,GAAG,CAACI,GAAJ,CAAQ,MAAR,CAAxB,IAA4C,EAF9C;AAAA;AAAA,mBAGMf,KAAK,WAAIa,OAAJ,0BAA2BP,KAAK,CAACD,EAAjC,EAHX;;AAAA;AAGXW,YAAAA,QAHW;AAAA;AAAA,mBAKAA,QAAQ,CAACC,IAAT,EALA;;AAAA;AAAA;AAAA;AAKfd,cAAAA,OALe;AAAA;;AAAA;AAAA,6CAQZ;AAAEe,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,UAAU,EAAE;AAAd;AAAT,aARY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAAA;AAAA;AAAA;AAAA;;AAWA,eAAelB,EAAf","sourcesContent":["import React from 'react'\nimport { useRouter } from 'next/router'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport fetch from 'isomorphic-fetch'\n\nfunction Ad(props) {\n  const { thought } = props\n  const router = useRouter()\n  const { id } = router.query\n  console.log('props', props)\n  console.log('query', router.query)\n  return (\n    <>\n      <Row noGutters>\n        <Col className=\"bg-primary\">{thought.message}</Col>\n      </Row>\n    </>\n  )\n}\n\nAd.getInitialProps = async ({ req, query, res }) => {\n  if (query && query.id) {\n    const baseURL = req ? `${req.protocol}://${req.get('Host')}` : ''\n    const response = await fetch(`${baseURL}/api/thought/${query.id}`)\n    return {\n      thought: await response.json(),\n    }\n  }\n  return { error: { statusCode: 404 } }\n}\n\nexport default Ad\n"]},"metadata":{},"sourceType":"module"}